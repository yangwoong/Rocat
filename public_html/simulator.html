<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Simulator (50m Grid)</title>
  <style>
    html, body { margin:0; height:100%; overflow-x: hidden;}
    body { display:flex; font-family: system-ui, Arial, sans-serif; }
    #map { flex:2; }
    #side { flex:1; display:flex; flex-direction:column; border-left:1px solid #ddd; padding:12px; }
    .row { margin-bottom:8px; }
    .card { min-width: 0; }
    input[type=number], input[type=text] { width:100%; padding:6px; }
    button { padding:8px 12px; margin-right:6px; }
    #log{
      width: 100%;
      height: 340px;
      overflow-y: auto;     /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ */
      overflow-x: auto;     /* ê°€ë¡œ ìŠ¤í¬ë¡¤(í•„ìš” ì‹œë§Œ) */
      white-space: pre-wrap;/* ì¤„ë°”ê¿ˆ ë¬¸ì ìœ ì§€ + ìë™ ì¤„ë°”ê¿ˆ í—ˆìš© */
      word-break: break-word;   /* ê¸´ ë‹¨ì–´/í† í°ë„ ì¤„ë°”ê¿ˆ */
      overflow-wrap: anywhere;  /* ì•„ì£¼ ê¸´ í† í°ë„ ì–´ë””ì„œë“  ì¤„ë°”ê¿ˆ */
      box-sizing: border-box;   /* padding í¬í•¨ í­ ê³„ì‚° */
      max-width: 100%;          /* ë¶€ëª¨ í­ ë„˜ì§€ ì•Šë„ë¡ */
      background:#fafafa; 
      padding:8px; 
      border:1px solid #eee;
    }
    .selected { stroke: #D32F2F !important; fill: #ffcdd2 !important; }
  </style>
</head>
<body>
  <div id="map"></div>
  <div id="side">
    <h2>AI Roboat ğŸ’§ìˆ˜ì§ˆ ì‹œë®¬ë ˆì´í„°ğŸ’§</h2>
    <div class="row"><b>ì„ íƒ íƒ€ì¼: <span id="sel-tile">-</span></b></div>
    <div class="row"><label>ìˆ˜ì˜¨</label><input id="temp_c" type="number" step="0.5" value="19.5"/></div>
    <div class="row"><label>pH</label><input id="ph" type="number" step="0.1" value="7.4"/></div>
    <div class="row"><label>ec</label><input id="ec_us_cm" type="number" step="1" value="230"/></div>
    <div class="row"><label>do</label><input id="do_mg_l" type="number" step="0.1" value="7.2"/></div>
    <div class="row"><label>toc</label><input id="toc_mg_l" type="number" step="0.1" value="2.7"/></div>
    <div class="row"><label>cod</label><input id="cod_mg_l" type="number" step="0.1" value="10.6"/></div>
    <div class="row"><label>t_n</label><input id="t_n_mg_l" type="number" step="0.1" value="1.289"/></div>
    <div class="row"><label>t_p</label><input id="t_p_mg_l" type="number" step="0.1" value="0.028"/></div>
    <div class="row"><label>ss</label><input id="ss_mg_l" type="number" step="0.1" value="5.6"/></div>
    <div class="row"><label>cl</label><input id="cl_mg_l" type="number" step="0.1" value="5.6"/></div>
    <div class="row"><label>chl_a</label><input id="chl_a_mg_m3" type="number" step="0.1" value="6.5"/></div>
    <div class="row"><label>cd</label><input id="cd_mg_l" type="number" step="0.0001" value="0.0005"/></div>
    <div class="row"><label>bod</label><input id="bod_mg_l" type="number" step="1" value="2"/></div>

    <div class="row">
      <button onclick="sendOnce()">í•œ ë²ˆ ì „ì†¡</button>
      <button onclick="toggleAuto()">ìë™ ì „ì†¡ On/Off</button>
    </div>
    <div id="log"></div>
  </div>

  <script>
    let map, tilePolys = [], selected = null, autoTimer = null;

    async function initMap(){
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 37.3804191, lng: 127.0028335}, zoom: 17
      });
      await drawTiles();
    }

    function clearTiles(){
      tilePolys.forEach(p => p.poly.setMap(null));
      tilePolys = [];
      selected = null;
      document.getElementById('sel-tile').innerText = '-';
    }

    async function drawTiles(){
      clearTiles();
      // ì›¹ì„œë²„ í”„ë¡ì‹œ ì²˜ë¦¬í•¨ http://211.43.213.175:8580
      const res = await fetch('/api/tiles', {
        headers:{'Content-Type':'application/json', 'Origin': 'https://ai.roboat.co.kr/'}
      });
      const js = await res.json();
      if(!js.ok){ alert('íƒ€ì¼ ì¡°íšŒ ì—ëŸ¬'); return; }
      for(const f of js.features){
        const path = f.geometry.coordinates[0].map(([lng,lat])=>({lat, lng}));
        const poly = new google.maps.Polygon({
          paths: [path],
          strokeColor: '#3949AB', strokeOpacity: 0.9, strokeWeight: 1,
          fillColor: '#9FA8DA', fillOpacity: 0.2
        });
        poly.setMap(map);
        const rec = {zone_id: f.properties.zone_id, poly};
        poly.addListener('click', ()=> selectTile(rec));
        tilePolys.push(rec);
      }
    }

    function selectTile(rec){
      if(selected){ selected.poly.setOptions({strokeColor:'#3949AB', fillColor:'#9FA8DA'}); }
      selected = rec;
      selected.poly.setOptions({strokeColor:'#D32F2F', fillColor:'#ffcdd2'});
      document.getElementById('sel-tile').innerText = rec.zone_id;
    }

    function log(msg){
      const d = document.getElementById('log');
      d.innerHTML += `<div>${new Date().toLocaleTimeString()} â€” ${msg}</div>`;
      d.scrollTop = d.scrollHeight;
    }

    function j(v){ try{return JSON.stringify(v);}catch(_){return String(v);} }

    function appendLLMLog(resp){
      const refs = Array.isArray(resp.reference_sources) && resp.reference_sources.length
        ? 'ì°¸ê³ ë¬¸í—Œ: ' + resp.reference_sources.map(x=>'â€¢ '+x).join('') : '';
      
        log(`[WQ-LLM ì‘ë‹µ] zone: ${resp.zone_id ?? '-'}, device: ${resp.device_id ?? '-'}\ní˜„ì¬ë“±ê¸‰: ${resp.curr_wq_state ?? '-'} â†’ ëª©í‘œë“±ê¸‰: ${resp.target_wq_state ?? '-'}\nì´ìœ : ${resp.reason ?? ''}\n${refs}`);
    }

    function analyzeTestRes(){
      return {
        water_q_idx: val('11'),
        zone_id: val(selected.zone_id),
        device_id: val(selected.zone_id),
        curr_wq_state: val('IV'),
        target_wq_state: val('III'),
        reason: val('í•´ë‹¹êµ¬ì—­ì€ ë¬¼ì˜ íë¦„ì´ ì›í• í•˜ì—¬ ë³´í†µ(III)ì˜ ë‹¨ê³„ë¥¼ ìœ ì§€í•´ì•¼ í•˜ë‚˜ ì¡°ë¥˜(Chl-a)ê°€ ì¦ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ë¬¼ì˜ íë¦„ì´ ì •ì²´ë˜ê³  ìœ ì…ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.'),
        reference_sources: val("/data/citicat/water_quality_docs/ëŒ€ê·œëª¨ìˆ˜ì§ˆì˜¤ì—¼ëŒ€ì‘ë§¤ë‰´ì–¼.pdf"),
      };
    }

    async function callLLM(llm_url, water_q_idx, zone_id, device_id, w_data){
      const body = { water_q_idx, zone_id, device_id, w_data };
      // log(`LLM ìš”ì²­ â†’ ${llm_url} :: ${j(body)}`);
      const res = await fetch(llm_url, {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(body)
      });
      const text = await res.text();
      let obj = null;
      try{
        obj = JSON.parse(text);
      }catch(_){
        const m = text.match(/\{[\s\S]*\}/);
        if(m){
          try{ obj = JSON.parse(m[0]); }catch(__){}
        }
      }
      if(!obj){
        log(`LLM ì‘ë‹µ íŒŒì‹± ì‹¤íŒ¨: ${text.slice(0,200)}...`);
        throw new Error('LLM parse error');
      }
      // log(`LLM ì‘ë‹µ â† ${j(obj)}`);

      return obj;
    }

    async function callLLM_Test(llm_url, water_q_idx, zone_id, device_id, w_data){
      // Test
      const test_analyze = analyzeTestRes();
      // log(`LLM ì‘ë‹µ â† ${j(test_analyze)}`);
      obj = JSON.stringify(test_analyze);

      return obj;
    }
    
    async function send(w_data){
      try{
        log(`AIì— ìˆ˜ì§ˆíŒì • ìš”ì²­`);

        // http://123.41.22.118:8066/api/water-quality/analyze
        // const llmResp = await callLLM_Test("/llm/api/water-quality/analyze", selected.zone_id, selected.zone_id, w_data);
        const llmResp = await callLLM("/llm/api/water-quality/analyze", 30, selected.zone_id, 10, w_data);
        // log(`LLM ì‘ë‹µ â† ${j(llmResp)}`);
        appendLLMLog(llmResp);

        saveWQToDB(selected.zone_id, 10, w_data, llmResp);
        // ì›¹ì„œë²„ í”„ë¡ì‹œ ì²˜ë¦¬í•¨ http://211.43.213.175:8580
        // const res = await fetch('/api/samples/ingest', {
        //   method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(samples)
        // });
        // const js = await res.json();
        // log('ì „ì†¡: '+js.count+'ê±´');
      }catch(e){
        log('ì˜¤ë¥˜: ' + e.message);
        console.error(e);
      }finally{
        // document.getElementById('btnSend').disabled = false;
      }
    }

    function sendOnce(){
      if(!selected){ alert('íƒ€ì¼ì„ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”'); return; }
      const sample = {
        // zone_id: selected.zone_id,
        // device_id: selected.zone_id,
        temp_c: parseFloat(document.getElementById('temp_c').value),
        ph: parseFloat(document.getElementById('ph').value),
        ec_us_cm: parseFloat(document.getElementById('ec_us_cm').value),
        do_mg_l: parseFloat(document.getElementById('do_mg_l').value),
        toc_mg_l: parseFloat(document.getElementById('toc_mg_l').value),
        cod_mg_l: parseFloat(document.getElementById('cod_mg_l').value),
        t_n_mg_l: parseFloat(document.getElementById('t_n_mg_l').value),
        t_p_mg_l: parseFloat(document.getElementById('t_p_mg_l').value),
        ss_mg_l: parseFloat(document.getElementById('ss_mg_l').value),
        cl_mg_l: parseFloat(document.getElementById('cl_mg_l').value),
        chl_a_mg_m3: parseFloat(document.getElementById('chl_a_mg_m3').value),
        cd_mg_l: parseFloat(document.getElementById('cd_mg_l').value),
        bod_mg_l: parseFloat(document.getElementById('bod_mg_l').value)
      };
      // log('sample:'+JSON.stringify(sample));
      send(sample);
    }


    // ìë™í™”
    // --- ë“±ê¸‰ ì •ì˜ (Ia, Ib, II, III, IV, V, VI) ---
    const LAKE_GRADES = ["Ia","Ib","II","III","IV","V","VI"];

    // í˜¸ì†Œìˆ˜ ê¸°ì¤€(ìš”ì•½) â†’ ë²”ìœ„ë¥¼ "ì¢‹ìŒâ†’ë‚˜ì¨"ìœ¼ë¡œ ì™„ë§Œí•˜ê²Œ í™•ì¥
    // ê·¼ê±°: pH, COD, SS, DO, T-P, T-N, Chl-a (í˜¸ì†Œìˆ˜ ê¸°ì¤€ í‘œ) :contentReference[oaicite:3]{index=3}
    const RANGES = {
      // pHëŠ” 6.5~8.5 ìœ ì§€(ê²½ê³  êµ¬ê°„ì€ ë“±ê¸‰ì´ ë‚´ë ¤ê°€ë„ ë™ì¼ ë²”ìœ„ë¡œ ì²˜ë¦¬)
      pH: {
        "Ia":[6.6,8.3], "Ib":[6.6,8.4], "II":[6.5,8.5], "III":[6.5,8.5],
        "IV":[6.4,8.6], "V":[6.3,8.7], "VI":[6.2,8.8]
      },
      // COD (mg/L): (â‰¤2, â‰¤3, â‰¤4, â‰¤5, â‰¤8, â‰¤10, >10) â†’ ê° ë“±ê¸‰ì˜ ìƒí•œ ë¶€ê·¼ì—ì„œ ë‚œìˆ˜
      COD: {
        "Ia":[0.8,2.0], "Ib":[1.0,3.0], "II":[2.0,4.0], "III":[3.0,5.0],
        "IV":[4.0,8.0], "V":[6.0,10.0], "VI":[9.0,20.0]
      },
      // SS (mg/L): (â‰¤1, â‰¤5, â‰¤5, â‰¤15, â‰¤25, â‰¤35, >35) í‘œ(ê¸°ê´€ë³„ í‘œê¸°ì— ë³€ë™ ì¡´ì¬) â†’ ë³´ìˆ˜ì  ë²”ìœ„
      SS: {
        "Ia":[0,1], "Ib":[1,5], "II":[3,5], "III":[5,15],
        "IV":[10,25], "V":[20,35], "VI":[35,100]
      },
      // DO (mg/L): (â‰¥7.5, â‰¥5.0, â‰¥5.0, â‰¥5.0, â‰¥3.0, â‰¥2.0, <2.0) â†’ ë“±ê¸‰ í•˜ë½ ì‹œ ë‚®ê²Œ
      DO: {
        "Ia":[7.8,9.5], "Ib":[5.5,8.5], "II":[5.2,7.5], "III":[5.0,7.0],
        "IV":[3.0,5.5], "V":[2.0,4.0], "VI":[0.3,2.0]
      },
      // T-P (mg/L): (â‰¤0.01, â‰¤0.02, â‰¤0.03, â‰¤0.05, â‰¤0.1, â‰¤0.2, >0.2)
      TP: {
        "Ia":[0.002,0.010], "Ib":[0.005,0.020], "II":[0.010,0.030],
        "III":[0.020,0.050], "IV":[0.05,0.10], "V":[0.10,0.20], "VI":[0.20,0.50]
      },
      // T-N (mg/L): (â‰¤0.2, â‰¤0.3, â‰¤0.4, â‰¤0.6, â‰¤1.0, â‰¤1.5, >1.5)  â€» í‘œëŠ” ê¸°ê´€ë³„ í‘œê¸° í¸ì°¨ê°€ ìˆìœ¼ë¯€ë¡œ ë³´ìˆ˜ ë²”ìœ„
      TN: {
        "Ia":[0.05,0.20], "Ib":[0.10,0.30], "II":[0.15,0.40],
        "III":[0.30,0.60], "IV":[0.60,1.00], "V":[1.00,1.50], "VI":[1.50,3.00]
      },
      // Chl-a (mg/m3): (â‰¤5, â‰¤9, â‰¤14, â‰¤20, â‰¤40, â‰¤60, >60)
      CHLA: {
        "Ia":[0.5,5], "Ib":[2,9], "II":[4,14], "III":[8,20],
        "IV":[15,40], "V":[30,60], "VI":[60,120]
      }
    };

    // ë³´ì¡° í•­ëª©(ì‹œë®¬ë ˆì´í„°ìš© í•©ë¦¬ì  ë²”ìœ„) â€” êµ­ë‚´ ìë£Œ ì°¸ê³ í•˜ì—¬ ì„¤ì •
    // TOC(í˜¸ì†Œìˆ˜) 6ì´í•˜ê°€ ì¼ë°˜ì  ëª©í‘œì¹˜. :contentReference[oaicite:4]{index=4}
    const EXTRA = {
      TOC: {
        "Ia":[1.0,3.0], "Ib":[1.5,4.0], "II":[2.0,5.0], "III":[3.0,6.0],
        "IV":[4.0,8.0], "V":[5.0,10.0], "VI":[6.0,15.0]
      },
      // BOD â€” í˜¸ì†ŒëŠ” CODë¥¼ ì£¼ë¡œ ì“°ì§€ë§Œ, ì‹œë®¬ë ˆì´í„° ìš”êµ¬ì— ë§ì¶° ê°•í•˜ì²œ ê¸°ì¤€ì„ ì™„ë§Œíˆ ì°¨ìš©. :contentReference[oaicite:5]{index=5}
      BOD: {
        "Ia":[0.3,1.0], "Ib":[0.8,2.0], "II":[1.5,3.0], "III":[2.5,5.0],
        "IV":[4.0,8.0], "V":[6.0,10.0], "VI":[10.0,20.0]
      },
      // ì—¼ì†Œì´ì˜¨(Cl-) â€” ê±´ê°•ë³´í˜¸ê¸°ì¤€ 250 mg/L ì´í•˜(ì§€í•˜ìˆ˜ ê¸°ì¤€í‘œ ì°¸ê³ ) :contentReference[oaicite:6]{index=6}
      CL: {
        "Ia":[5,25], "Ib":[10,40], "II":[15,60], "III":[20,80],
        "IV":[30,120], "V":[40,180], "VI":[50,250]
      },
      // ì¹´ë“œë®´(Cd) â€” 0.01 mg/L ì´í•˜ë¥¼ ë§¤ìš° ë‚®ê²Œ ë¶„í¬(ì•ˆì „ì¸¡) :contentReference[oaicite:7]{index=7}
      CD: {
        "Ia":[0.00005,0.0003], "Ib":[0.0001,0.0005], "II":[0.0002,0.0010],
        "III":[0.0003,0.0020], "IV":[0.0005,0.0050], "V":[0.001,0.008], "VI":[0.002,0.010]
      },
      // EC(Î¼S/cm) â€” ë‹´ìˆ˜ í˜¸ì†Œ ì¼ë°˜ ë²”ìœ„(ì €ì—¼~ì¤‘ì—¼) ê°€ì •, ë“±ê¸‰ í•˜ë½ ì‹œ ì¦ê°€
      EC: {
        "Ia":[50,200], "Ib":[80,300], "II":[100,400], "III":[150,600],
        "IV":[200,800], "V":[300,1200], "VI":[400,2000]
      },
      // ìˆ˜ì˜¨(Â°C) â€” ë“±ê¸‰ê³¼ ì§ì ‘ ê¸°ì¤€ì€ ì—†ìœ¼ë‚˜ ê³„ì ˆí˜• ë¶„í¬. ë‹¨ìˆœ ì‹œë®¬ë ˆì´í„°ìš©.
      TEMP: {
        "Ia":[10,22], "Ib":[12,24], "II":[14,26], "III":[16,28],
        "IV":[18,30], "V":[20,32], "VI":[22,34]
      }
    };

    // ìœ í‹¸: êµ¬ê°„ ë‚œìˆ˜
    function randIn([a,b], digits=2){
      const v = a + Math.random()*(b-a);
      return Number(v.toFixed(digits));
    }

    // ë“±ê¸‰ë³„ ëœë¤ ìˆ˜ì§ˆê°’ ìƒì„±
    function randomWQByGrade(grade){
      const g = grade || LAKE_GRADES[Math.floor(Math.random()*LAKE_GRADES.length)];
      const pH = randIn(RANGES.pH[g], 2);
      const cod = randIn(RANGES.COD[g], 2);
      const ss  = randIn(RANGES.SS[g], 0);
      const dox = randIn(RANGES.DO[g], 2);
      const tp  = randIn(RANGES.TP[g], 3);
      const tn  = randIn(RANGES.TN[g], 3);
      const chla= randIn(RANGES.CHLA[g], 1);

      const toc = randIn(EXTRA.TOC[g], 1);
      const bod = randIn(EXTRA.BOD[g], 1);
      const cl  = randIn(EXTRA.CL[g], 1);
      const cd  = randIn(EXTRA.CD[g], 6);
      const ec  = randIn(EXTRA.EC[g], 0);
      const tC  = randIn(EXTRA.TEMP[g], 1);

      return {
        // grade: g,
        temp_c: tC,
        ph: pH,
        ec_us_cm: ec,
        do_mg_l: dox,
        toc_mg_l: toc,
        cod_mg_l: cod,
        t_n_mg_l: tn,
        t_p_mg_l: tp,
        ss_mg_l: ss,
        cl_mg_l: cl,
        chl_a_mg_m3: chla,
        cd_mg_l: cd,
        bod_mg_l: bod
      };
    }

    // ë“±ê¸‰ ë¬´ì‘ìœ„ ì„ íƒ(ì¢‹ìŒ~ë‚˜ì¨ ì „ì²´)
    function randomWQ(){
      const g = LAKE_GRADES[Math.floor(Math.random()*LAKE_GRADES.length)];
      return randomWQByGrade(g);
    }

    function toggleAuto(){
      if(autoTimer){
        clearInterval(autoTimer); autoTimer=null; log('ìë™ ì „ì†¡ ì¤‘ì§€');
      }else{
        if(!selected){ alert('íƒ€ì¼ì„ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”'); return; }
        autoTimer = setInterval(()=>{
          const sample = randomWQ();
          send(sample);
          // send({
          //  zone_id: selected.zone_id, chla, ph:7.2, do:6.2, turb:2.0
          // });
        }, 30000);
        log('ìë™ ì „ì†¡ ì‹œì‘ (30ì´ˆë§ˆë‹¤)');
      }
    }


    function appendLLMLog(resp){
      const html = `
        <div><b>[AI Roboat ì‘ë‹µ]</b></div>
        zone: <b>${resp.zone_id ?? '-'}</b>, device: ${resp.device_id ?? '-'}
        í˜„ì¬ë“±ê¸‰: ${resp.curr_wq_state ?? '-'} â†’ ëª©í‘œë“±ê¸‰: ${resp.target_wq_state ?? '-'}
        <div style="margin-top:1px;white-space:pre-wrap;">${resp.reason ?? ''}</div>
        ${
          Array.isArray(resp.reference_sources) && resp.reference_sources.length
          ? `<div style="font-size:12px;margin-top:1px;color:#555;">ì°¸ê³ ë¬¸í—Œ:<br/>${resp.reference_sources.map(x=>`â€¢ ${x}`).join('<br/>')}</div>`
          : ''
        }
      `;
      // appendBubble(html, 'bubble-bot');
      log(html);
    }

    async function saveWQToDB(zone_id, device_id, w_data, llmResp){
      const payload = {
        zone_id,
        device_id: device_id?.toString(),
        w_data: {
          temp_c: w_data.temp_c,
          ph: w_data.ph,
          ec_us_cm: w_data.ec_us_cm,
          do_mg_l: w_data.do_mg_l,
          toc_mg_l: w_data.toc_mg_l,
          cod_mg_l: w_data.cod_mg_l,
          t_n_mg_l: w_data.t_n_mg_l,
          t_p_mg_l: w_data.t_p_mg_l,
          ss_mg_l: w_data.ss_mg_l,
          cl_mg_l: w_data.cl_mg_l,
          chl_a_mg_m3: w_data.chl_a_mg_m3,
          cd_mg_l: w_data.cd_mg_l,
          bod_mg_l: w_data.bod_mg_l
        },
        llm: {
          water_q_idx: llmResp.water_q_idx,
          zone_id: llmResp.zone_id ?? zone_id,
          device_id: llmResp.device_id?.toString() ?? device_id?.toString(),
          curr_wq_state: llmResp.curr_wq_state,
          target_wq_state: llmResp.target_wq_state,
          reason: llmResp.reason,
          reference_sources: llmResp.reference_sources
        }
      };

      // console.error(JSON.stringify(payload));

      const r = await fetch('/api/wq/ingest', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });
      const js = await r.json();
      // appendBubble(`DB ì €ì¥: ${js.ok ? 'ì„±ê³µ' : 'ì‹¤íŒ¨'} (idx=${js.idx ?? '-'})`, js.ok ? 'bubble-bot' : 'bubble-user');
      log(`DB ì €ì¥: ${js.ok ? 'ì„±ê³µ' : 'ì‹¤íŒ¨'} (idx=${js.idx ?? '-'})`);
      return js;
    }


  </script>
  <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBMWbW9XsmST7vLjFZcGo6jp2rMR_VwvzE&callback=initMap"></script>
</body>
</html>
